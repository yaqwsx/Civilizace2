{% extends "game/base.html" %}
{% load crispy_forms_tags qrScanner %}

{% block title %} Příběh civilizace - Vývěska {% endblock %}

{% block content %}
    <h1>Vývěska - {% if edit %}Editace oznámení{% else %}Nové oznámení{% endif %}</h1>
    <form method="post">
        {% csrf_token %}
        {{ messageForm|crispy }}
        <div class="md:flex">
            <div class="md:w-1/3 block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4">
                Viditelnost zprávy*
            </div>
            <div class="md:w-2/3">
                {{ visibilityForm|crispy}}
                <div class="w-full flex flex-wrap my-2">
                    <button
                        class="flex-auto mx-2 shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"
                        type="button"
                        onclick="selectall(true)"
                    >
                        Vybrat vše
                    </button>

                    <button
                        class="flex-auto mx-2 shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"
                        type="button"
                        onclick="selectall(false)"
                    >
                        Nevybrat nic
                    </button>
                    <script>
                        function selectall(value) {
                            {% for form in visibilityForm %}
                                {% for field in form %}
                                    document.getElementById("{{field.auto_id}}").checked = value;
                                {% endfor %}
                            {% endfor %}
                        }
                    </script>
                </div>
            </div>
        </div>
        <button
            type="submit"
            class="w-full shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded">
            Uložit
        </button>
    </form>
{% endblock %}
